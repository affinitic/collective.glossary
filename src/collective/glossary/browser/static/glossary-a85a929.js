var glossary=function(e){function t(i){if(r[i])return r[i].exports;var s=r[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="++resource++collective.glossary/",t(t.s=0)}([function(e,t,r){r(1),e.exports=r(2)},function(e,t){},function(e,t,r){"use strict";r(3),r(4),$("#content-core").glossarizer({sourceURL:portal_url+"/@@glossary",callback:function(){new tooltip}})},function(e,t,r){"use strict";!function(e,t,r){function i(){var r=e(".glossarizer_replaced"),i=!1,s=!1;r.bind("mouseenter",function(){i=e(this);var r=i.attr("title");if(s=e('<div id="tooltip"></div>'),!r||""==r)return!1;i.removeAttr("title"),s.css("opacity",0).html(r).appendTo("body");var o=function(){e(t).width()<1.5*s.outerWidth()?s.css("max-width",e(t).width()/2):s.css("max-width",340);var r=i.offset().left+i.outerWidth()/2-s.outerWidth()/2,o=i.offset().top-s.outerHeight()-20;if(r<0?(r=i.offset().left+i.outerWidth()/2-20,s.addClass("left")):s.removeClass("left"),r+s.outerWidth()>e(t).width()?(r=i.offset().left-s.outerWidth()+i.outerWidth()/2+20,s.addClass("right")):s.removeClass("right"),o<0){var o=i.offset().top+i.outerHeight();s.addClass("top")}else s.removeClass("top");s.css({left:r,top:o}).animate({top:"+=10",opacity:1},50)};o(),e(t).resize(o);var n=function(){s.animate({top:"-=10",opacity:0},50,function(){e(this).remove()}),i.attr("title",r)};i.bind("mouseleave",n),s.bind("click",n)})}t.tooltip=i}(jQuery,window)},function(e,t,r){"use strict";!function(e){function t(t,r){var s=this;s.el=t,s.$el=e(t),s.options=e.extend({},i,r),s.terms=[],s.excludes=[],s.replaced=[],s.regexOption=s.options.replaceOnce?"i":"ig",e.getJSON(this.options.sourceURL).then(function(e){if(s.glossary=e,s.glossary.length&&0!=s.glossary.length){for(var t=0;t<s.glossary.length;t++)for(var r=s.glossary[t].term.split(","),i=0;i<r.length;i++){var o=r[i].replace(/^\s+|\s+$/g,""),n=o.indexOf("!");-1==n||0!=n?s.terms.push(o):s.excludes.push(o.substr(1))}s.wrapTerms()}})}function r(t,r,i){if("string"!=typeof t)return e.inArray.apply(this,arguments);if(r){var s=r.length;for(i=i?i<0?Math.max(0,s+i):i:0,t=t.toLowerCase();i<s;i++)if(i in r&&r[i].toLowerCase()==t)return i}return-1}var i={sourceURL:"",replaceTag:"abbr",lookupTagName:"p, ul, a, div",callback:null,replaceOnce:!1,replaceClass:"glossarizer_replaced"};t.prototype={getDescription:function(e){for(var t=new RegExp("(^s*)"+this.clean(e)+"\\s*|\\,$","i"),r=0;r<this.glossary.length;r++)if(this.glossary[r].term.match(t))return this.glossary[r].description.replace(/\"/gi,"&quot;")},clean:function(e){var t=new RegExp("(\\"+["/",".","*","+","?","(",")","[","]","{","}","\\"].join("|\\")+")","g");return e.replace(t,"\\$1")},wrapTerms:function(){this.cleanedTerms=this.clean(this.terms.join("|")),this.excludedTerms=this.clean(this.excludes.join("|"));for(var e=this.el.querySelectorAll(this.options.lookupTagName),t=0;t<e.length;t++)this.traverser(e[t]);this.options.callback&&this.options.callback.call(this.$el)},traverser:function(t){var i,s=this;if(1===t.nodeType){if(t=t.firstChild)do{i=t.nextSibling,t.className!=this.options.replaceClass&&this.traverser(t)}while(t=i)}else if(3===t.nodeType){var o=document.createElement("div"),n=t.data,a=new RegExp("(?:^|\\b)("+this.cleanedTerms+")(?!\\w)",s.regexOption),l=new RegExp("(?:^|\\b)("+this.excludedTerms+")(?!\\w)",s.regexOption);if(a.test(n)){var c=l.exec(n);for(n=n.replace(a,function(e,t,i,o){if(s.options.replaceOnce&&r(e,s.replaced)>=0)return e;if(s.replaced.push(e),new RegExp("(?:^|\\b)"+s.clean(e)+"(?!\\w)").exec(n)){if(c&&s.excludes.length){var a=i,l=c.index,p=c.index+c[0].length;return l<=a&&a<=p?e:"<"+s.options.replaceTag+' class="'+s.options.replaceClass+'" title="'+s.getDescription(e)+'">'+e+"</"+s.options.replaceTag+">"}return"<"+s.options.replaceTag+' class="'+s.options.replaceClass+'" title="'+s.getDescription(e)+'">'+e+"</"+s.options.replaceTag+">"}}),e(o).html(n);o.firstChild;)t.parentNode.insertBefore(o.firstChild,t);t.parentNode.removeChild(t)}}}};var s={destroy:function(){this.$el.removeData("plugin_glossarizer"),this.$el.find("."+this.options.replaceClass).each(function(){var t=e(this),r=t.text();t.replaceWith(r)})}};t.prototype=e.extend({},t.prototype,s),e.fn.glossarizer=function(r){return this.each(function(){var i=e(this),o=i.data("plugin_glossarizer");"string"==typeof r&&o&&s.hasOwnProperty(r)?o[r].apply(o):(o&&o.destroy.apply(o),e.data(this,"plugin_glossarizer",new t(this,r)))})}}(jQuery)}]).default;